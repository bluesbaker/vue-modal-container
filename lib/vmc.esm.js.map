{"version":3,"file":"vmc.esm.js","sources":["../src/components/ModalContainer.vue","../src/components/ModalContainer.vue?vue&type=template&id=2e4d6884&lang.js","../src/plugins/vue-modal-container.js"],"sourcesContent":["<template>\r\n<transition name=\"fade\" mode=\"out-in\">\r\n    <div class=\"modal-container__template\" :style=\"containerClass\" @click=\"handleClose\" id=\"modalContainer\" v-show=\"options.isShow\">\r\n        <div class=\"modal\">\r\n            <slot></slot>\r\n        </div>\r\n    </div>\r\n</transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"ModalContainer\",\r\n    data() {\r\n        return {\r\n            containerClass: {\r\n                position: \"fixed\",\r\n                top: \"0\",\r\n                left: \"0\",\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                background: \"rgba(0, 0, 0, 0.5)\",\r\n                zIndex: \"100\"\r\n            }\r\n        }\r\n    },\r\n    props: {\r\n        options: {\r\n            type: Object,\r\n            default: {}\r\n        }\r\n    },\r\n    methods: {\r\n        handleClose(self) {\r\n            if(self.target.id == \"modalContainer\") {\r\n                this.options.close();\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.fade-enter-from, .fade-leave-to {\r\n  opacity: 0;\r\n}\r\n.fade-enter-to, .fade-leave-from {\r\n  opacity: 1;\r\n}\r\n.fade-enter-active {\r\n  transition: all 0.3s ease-out;\r\n}\r\n.fade-leave-active {\r\n  transition: all 0.3s ease-in;\r\n}\r\n</style>","<template>\r\n<transition name=\"fade\" mode=\"out-in\">\r\n    <div class=\"modal-container__template\" :style=\"containerClass\" @click=\"handleClose\" id=\"modalContainer\" v-show=\"options.isShow\">\r\n        <div class=\"modal\">\r\n            <slot></slot>\r\n        </div>\r\n    </div>\r\n</transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"ModalContainer\",\r\n    data() {\r\n        return {\r\n            containerClass: {\r\n                position: \"fixed\",\r\n                top: \"0\",\r\n                left: \"0\",\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                background: \"rgba(0, 0, 0, 0.5)\",\r\n                zIndex: \"100\"\r\n            }\r\n        }\r\n    },\r\n    props: {\r\n        options: {\r\n            type: Object,\r\n            default: {}\r\n        }\r\n    },\r\n    methods: {\r\n        handleClose(self) {\r\n            if(self.target.id == \"modalContainer\") {\r\n                this.options.close();\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.fade-enter-from, .fade-leave-to {\r\n  opacity: 0;\r\n}\r\n.fade-enter-to, .fade-leave-from {\r\n  opacity: 1;\r\n}\r\n.fade-enter-active {\r\n  transition: all 0.3s ease-out;\r\n}\r\n.fade-leave-active {\r\n  transition: all 0.3s ease-in;\r\n}\r\n</style>","import { createApp, h, reactive, shallowReactive } from \"vue\"\r\nimport ModalContainer from \"../components/ModalContainer.vue\"\r\n\r\nfunction install(app, options) {\r\n  // just in case ;)\r\n  if(install.installed) return;\r\n  install.installed = true;\r\n\r\n  // setup or default plugin options\r\n  let pluginOptions = {...{\r\n    propertyName: \"$modal\",           // this.$modal\r\n    componentName: \"ModalContainer\",  // <modal-container .../>\r\n    globalComponent: true,            // ...as a global component\r\n  }, ...options};\r\n\r\n  // ModalContainer reactive options\r\n  let containerOptions = reactive({\r\n    isShow: false,\r\n    close: () => {\r\n      containerOptions.isShow = false;\r\n    }\r\n  });\r\n\r\n  // Modal* reactive options\r\n  let modalOptions = shallowReactive({\r\n    modal: \"div\",\r\n    props: {}\r\n  });\r\n\r\n  // 0. create a root container\r\n  const divContainer = document.createElement(\"div\");\r\n  document.body.appendChild(divContainer);\r\n\r\n  // 1. create \"App\" and render ModalContainer with ~modal component...\r\n  const modalContainer = createApp(\r\n    h(ModalContainer,\r\n        {\r\n          options: containerOptions\r\n        },\r\n        {\r\n          default() {\r\n            return h(modalOptions.modal,\r\n            {\r\n              ...modalOptions.props,\r\n              onOk(payload) {\r\n                if(modalOptions.props.onOk) {\r\n                  modalOptions.props.onOk(payload);\r\n                }\r\n                containerOptions.isShow = false;\r\n              }\r\n            });\r\n          }\r\n        }\r\n      )       \r\n  );\r\n\r\n  // 2. and mount to the root container\r\n  modalContainer.mount(divContainer);\r\n\r\n  // Add the $modal(default) function to the global properties \r\n  app.config.globalProperties[pluginOptions.propertyName] = (dialogModal, props) => {       \r\n    modalOptions.modal = dialogModal;\r\n    modalOptions.props = props;\r\n    containerOptions.isShow = true;  \r\n  }\r\n\r\n  // (Optional) registration the ModalContainer(default) as a global component\r\n  if(pluginOptions.globalComponent) {\r\n    app.component(pluginOptions.componentName, ModalContainer);\r\n  }\r\n}\r\n\r\nlet globalVue = null;\r\nif (typeof window !== 'undefined') {\r\n  globalVue = window.Vue;\r\n} \r\nelse if (typeof global !== 'undefined') {\r\n  globalVue = global.Vue;\r\n}\r\nif (globalVue) {\r\n  globalVue.use({ install });\r\n}\r\n\r\nconst component = ModalContainer;\r\ncomponent.install = install;\r\nexport default component;"],"names":["_createBlock","_createVNode","_renderSlot","ModalContainer"],"mappings":"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"}