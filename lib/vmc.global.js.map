{"version":3,"file":"vmc.global.js","sources":["../src/components/ModalContainer.vue","../src/components/ModalContainer.vue?vue&type=template&id=2e4d6884&lang.js","../src/plugins/vue-modal-container.js"],"sourcesContent":["<template>\r\n<transition name=\"fade\" mode=\"out-in\">\r\n    <div class=\"modal-container__template\" :style=\"containerClass\" @click=\"handleClose\" id=\"modalContainer\" v-show=\"options.isShow\">\r\n        <div class=\"modal\">\r\n            <slot></slot>\r\n        </div>\r\n    </div>\r\n</transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"ModalContainer\",\r\n    data() {\r\n        return {\r\n            containerClass: {\r\n                position: \"fixed\",\r\n                top: \"0\",\r\n                left: \"0\",\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                background: \"rgba(0, 0, 0, 0.5)\",\r\n                zIndex: \"100\"\r\n            }\r\n        }\r\n    },\r\n    props: {\r\n        options: {\r\n            type: Object,\r\n            default: {}\r\n        }\r\n    },\r\n    methods: {\r\n        handleClose(self) {\r\n            if(self.target.id == \"modalContainer\") {\r\n                this.options.close();\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.fade-enter-from, .fade-leave-to {\r\n  opacity: 0;\r\n}\r\n.fade-enter-to, .fade-leave-from {\r\n  opacity: 1;\r\n}\r\n.fade-enter-active {\r\n  transition: all 0.3s ease-out;\r\n}\r\n.fade-leave-active {\r\n  transition: all 0.3s ease-in;\r\n}\r\n</style>","<template>\r\n<transition name=\"fade\" mode=\"out-in\">\r\n    <div class=\"modal-container__template\" :style=\"containerClass\" @click=\"handleClose\" id=\"modalContainer\" v-show=\"options.isShow\">\r\n        <div class=\"modal\">\r\n            <slot></slot>\r\n        </div>\r\n    </div>\r\n</transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"ModalContainer\",\r\n    data() {\r\n        return {\r\n            containerClass: {\r\n                position: \"fixed\",\r\n                top: \"0\",\r\n                left: \"0\",\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                background: \"rgba(0, 0, 0, 0.5)\",\r\n                zIndex: \"100\"\r\n            }\r\n        }\r\n    },\r\n    props: {\r\n        options: {\r\n            type: Object,\r\n            default: {}\r\n        }\r\n    },\r\n    methods: {\r\n        handleClose(self) {\r\n            if(self.target.id == \"modalContainer\") {\r\n                this.options.close();\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.fade-enter-from, .fade-leave-to {\r\n  opacity: 0;\r\n}\r\n.fade-enter-to, .fade-leave-from {\r\n  opacity: 1;\r\n}\r\n.fade-enter-active {\r\n  transition: all 0.3s ease-out;\r\n}\r\n.fade-leave-active {\r\n  transition: all 0.3s ease-in;\r\n}\r\n</style>","import { createApp, h, reactive, shallowReactive } from \"vue\"\r\nimport ModalContainer from \"../components/ModalContainer.vue\"\r\n\r\nfunction install(app, options) {\r\n  // just in case ;)\r\n  if(install.installed) return;\r\n  install.installed = true;\r\n\r\n  // setup or default plugin options\r\n  let pluginOptions = {...{\r\n    propertyName: \"$modal\",           // this.$modal\r\n    componentName: \"ModalContainer\",  // <modal-container .../>\r\n    globalComponent: true,            // ...as a global component\r\n  }, ...options};\r\n\r\n  // ModalContainer reactive options\r\n  let containerOptions = reactive({\r\n    isShow: false,\r\n    close: () => {\r\n      containerOptions.isShow = false;\r\n    }\r\n  });\r\n\r\n  // Modal* reactive options\r\n  let modalOptions = shallowReactive({\r\n    modal: \"div\",\r\n    props: {}\r\n  });\r\n\r\n  // 0. create a root container\r\n  const divContainer = document.createElement(\"div\");\r\n  document.body.appendChild(divContainer);\r\n\r\n  // 1. create \"App\" and render ModalContainer with ~modal component...\r\n  const modalContainer = createApp(\r\n    h(ModalContainer,\r\n        {\r\n          options: containerOptions\r\n        },\r\n        {\r\n          default() {\r\n            return h(modalOptions.modal,\r\n            {\r\n              ...modalOptions.props,\r\n              onOk(payload) {\r\n                if(modalOptions.props.onOk) {\r\n                  modalOptions.props.onOk(payload);\r\n                }\r\n                containerOptions.isShow = false;\r\n              }\r\n            });\r\n          }\r\n        }\r\n      )       \r\n  );\r\n\r\n  // 2. and mount to the root container\r\n  modalContainer.mount(divContainer);\r\n\r\n  // Add the $modal(default) function to the global properties \r\n  app.config.globalProperties[pluginOptions.propertyName] = (dialogModal, props) => {       \r\n    modalOptions.modal = dialogModal;\r\n    modalOptions.props = props;\r\n    containerOptions.isShow = true;  \r\n  }\r\n\r\n  // (Optional) registration the ModalContainer(default) as a global component\r\n  if(pluginOptions.globalComponent) {\r\n    app.component(pluginOptions.componentName, ModalContainer);\r\n  }\r\n}\r\n\r\nlet globalVue = null;\r\nif (typeof window !== 'undefined') {\r\n  globalVue = window.Vue;\r\n} \r\nelse if (typeof global !== 'undefined') {\r\n  globalVue = global.Vue;\r\n}\r\nif (globalVue) {\r\n  globalVue.use({ install });\r\n}\r\n\r\nconst component = ModalContainer;\r\ncomponent.install = install;\r\nexport default component;"],"names":["_createBlock","_createVNode","_renderSlot","reactive","shallowReactive","createApp","h","ModalContainer"],"mappings":"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"}